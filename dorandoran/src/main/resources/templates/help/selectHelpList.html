<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">

<!-- head 영역 시작 -->
<!-- 개별적으로 사용할 css, js 링크 걸기 위해 남겨둠 -->

<head>
	<th:block layout:fragment="script">
		<script th:inline="javascript">

			function search() {
				let searchKeyword = $('#searchKeyword').val();
				console.log(searchKeyword);
				location.href = "/help/selectHelpList?searchKeyword=" + searchKeyword;
			}
		</script>
	</th:block>
</head>
<!-- head 영역 끝 -->

<body>
	<div layout:fragment="content">
		<link rel="stylesheet" th:href="@{/css/boardTitle.css}" />
		<link rel="stylesheet" th:href="@{/css/help.css}" />


		<div class="v19_9" style="height: 1373px;">

			<div class="v89_238">
				<div class="v89_239" style="background-color: #cfe1fc;"></div>
				<div class="v89_240" style="background-color: #cfe1fc;"></div>
				<span class="v89_241">도와줘요</span>
			</div>

			<div class="v89_245">
				<img class="backImg" th:src="@{/images/boardBack_b.png}" />
			</div>
			<div class="v89_249">
				<img class="iconImg" th:src="@{/images/helpIcon.png}" />
			</div>

			<div class="v21_78" style="height: 219px;"><span class="v21_80">도움이 필요할 때 글을 적어보세요!<br>당신의 구세주가
					등장할지도요!</span>
				<span class="v21_81">다른 회원님들에게 도움을 청할 수 있는 게시판입니다.<br>
					물론 글을 적은 회원님들에게 도움을 드릴 수도 있어요!<br>
					아직까지 세상은 살만하다는 것을 보여주자구요.<br>
					그리고 도움을 받았다면 작은 답례정도는 할 수 있겠죠?</span>
			</div>

			<div th:if="${session.loginUser ne null}" th:remove="tag">
				<button class="insertPageBtn_b" onclick="location.href='/help/insertHelpPage'"
					style="z-index : 1; top:512px;">도움 청하기</button>
			</div>

			<div th:if="${session.loginUser eq null}" th:remove="tag">
				<button class="insertPageBtn_b" onclick="location.href='/temp/loginPage'"
					style="z-index : 1; top:512px;">로그인 후
					도움청하기</button>
			</div>
			<div class="container">
				<div class="boardContainer"></div>
				<div class="boardContainer">
					<div class="helpListContainer" th:each="list : ${list}">

						<div th:if="${list.imageNm ne null and list.imageNm.length > 0}" th:remove="tag">
							<img th:src="@{'/helpImg/' + ${list.imageNm}}" th:id="'prodImg'+${list.helpNo}"
								class="prodImage">
							<div th:id="'text'+${list.helpNo}" class="text"
								th:onclick="|location.href='@{/help/selectHelp?helpNo={helpNo} (helpNo = ${list.helpNo})}'|">
								<a class="title" th:text="${list.helpTitle}"></a><br>
								<a class="place" th:text="${list.helpPlace}"></a>

								<div th:if="${list.doneYn eq '요청중'}" th:remove="tag">
									<a class="status" th:text="${list.doneYn}" style="background: #f44336;"></a>
								</div>

								<div th:if="${list.doneYn ne '요청중'}" th:remove="tag">
									<a class="status" th:text="${list.doneYn}"></a>
								</div>


							</div>
						</div>

						<div th:if="${list.imageNm eq null or list.imageNm.length < 1}" th:remove="tag">
							<div style="height:100%; cursor:pointer;"
								th:onclick="|location.href='@{/help/selectHelp?helpNo={helpNo} (helpNo = ${list.helpNo})}'|">
								<a class="title" th:text="${list.helpTitle}"></a><br>
								<a class="place" th:text="${list.helpPlace}"></a>
								<div th:if="${list.doneYn eq '요청중'}" th:remove="tag">
									<a class="status" th:text="${list.doneYn}" style="background: #f44336;"></a>
								</div>

								<div th:if="${list.doneYn ne '요청중'}" th:remove="tag">
									<a class="status" th:text="${list.doneYn}"></a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>


			<div class="searchInput">
				<input id="searchKeyword" name="searchKeyword">
				<button class="searchIcon" onclick="search();"></button>
			</div>


			<div class="pagation">
				<div class="page">
					<ul class="pagination modal">
						<li class="page-item">
							<a class="first"
								th:href="@{/help/selectHelpList?page=1&searchKeyword={keyword} (keyword = ${pagination.searchKeyword})}">
								처음
							</a>
						</li>
						<li class="page-item">
							<a class="arrow left"
								th:href="@{/help/selectHelpList?page={page}&searchKeyword={keyword} (page = ${pagination.page}-1, keyword = ${pagination.searchKeyword}) }">
								<< </a>
						</li>
						<th:block th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">
							<li class="page-item" th:with="start = ${pagination.startPage}, end = ${pagination.endPage}"
								th:each="pageButton : ${#numbers.sequence(start, end)}">
								<a class="num"
									th:href="@{/help/selectHelpList?page={page}&searchKeyword={keyword} (page = ${pageButton}, keyword = ${pagination.searchKeyword} )}"
									th:text=${pageButton}></a>
							</li>
						</th:block>
						<li class="page-item">
							<a class="arrow right"
								th:href="@{/help/selectHelpList?page={page}&searchKeyword={keyword} (page = ${pagination.page}+1, keyword = ${pagination.searchKeyword})}">
								>>
							</a>
						</li>
						<li class="page-item">
							<a class="last"
								th:href="@{/help/selectHelpList?page={page}&searchKeyword={keyword} (page = ${pagination.totalPageCnt}, keyword = ${pagination.searchKeyword} )}">
								<span aria-hidden="true">끝</span>
							</a>
						</li>
					</ul>
				</div>
			</div>


		</div>
	</div>
</body>

</html>